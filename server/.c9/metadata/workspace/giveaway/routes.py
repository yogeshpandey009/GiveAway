{"filter":false,"title":"routes.py","tooltip":"/giveaway/routes.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":193,"column":68},"end":{"row":193,"column":71},"action":"insert","lines":["ULL"],"id":184,"ignore":true}],[{"start":{"row":193,"column":72},"end":{"row":194,"column":12},"action":"insert","lines":[":","            "],"id":185,"ignore":true}],[{"start":{"row":194,"column":12},"end":{"row":194,"column":13},"action":"insert","lines":["r"],"id":186,"ignore":true}],[{"start":{"row":194,"column":13},"end":{"row":194,"column":19},"action":"insert","lines":["eturn "],"id":187,"ignore":true}],[{"start":{"row":194,"column":19},"end":{"row":195,"column":8},"action":"insert","lines":["","        "],"id":188,"ignore":true}],[{"start":{"row":195,"column":8},"end":{"row":195,"column":9},"action":"insert","lines":["e"],"id":189,"ignore":true}],[{"start":{"row":195,"column":9},"end":{"row":195,"column":13},"action":"insert","lines":["lse "],"id":190,"ignore":true}],[{"start":{"row":195,"column":13},"end":{"row":195,"column":15},"action":"insert","lines":["if"],"id":191,"ignore":true}],[{"start":{"row":195,"column":15},"end":{"row":195,"column":16},"action":"insert","lines":[" "],"id":192,"ignore":true}],[{"start":{"row":195,"column":16},"end":{"row":195,"column":37},"action":"insert","lines":["dic[\"product_name\"] ="],"id":193,"ignore":true}],[{"start":{"row":195,"column":37},"end":{"row":195,"column":38},"action":"insert","lines":["="],"id":194,"ignore":true}],[{"start":{"row":195,"column":38},"end":{"row":195,"column":39},"action":"insert","lines":[" "],"id":195,"ignore":true}],[{"start":{"row":195,"column":39},"end":{"row":195,"column":41},"action":"insert","lines":["''"],"id":196,"ignore":true}],[{"start":{"row":195,"column":40},"end":{"row":195,"column":41},"action":"insert","lines":["N"],"id":197,"ignore":true}],[{"start":{"row":195,"column":41},"end":{"row":195,"column":44},"action":"insert","lines":["ULL"],"id":198,"ignore":true}],[{"start":{"row":195,"column":45},"end":{"row":196,"column":12},"action":"insert","lines":[":","            "],"id":199,"ignore":true}],[{"start":{"row":196,"column":12},"end":{"row":196,"column":30},"action":"insert","lines":["dic[\"brand_name\"] "],"id":200,"ignore":true}],[{"start":{"row":196,"column":30},"end":{"row":196,"column":31},"action":"insert","lines":["="],"id":201,"ignore":true}],[{"start":{"row":196,"column":31},"end":{"row":196,"column":51},"action":"insert","lines":["dic[\"product_name\"] "],"id":202,"ignore":true}],[{"start":{"row":196,"column":50},"end":{"row":196,"column":51},"action":"remove","lines":[" "],"id":203,"ignore":true},{"start":{"row":196,"column":50},"end":{"row":197,"column":12},"action":"insert","lines":["","            "]}],[{"start":{"row":197,"column":8},"end":{"row":197,"column":12},"action":"remove","lines":["    "],"id":204,"ignore":true},{"start":{"row":197,"column":8},"end":{"row":197,"column":9},"action":"insert","lines":["l"]}],[{"start":{"row":197,"column":8},"end":{"row":197,"column":9},"action":"remove","lines":["l"],"id":205,"ignore":true},{"start":{"row":197,"column":8},"end":{"row":197,"column":11},"action":"insert","lines":["els"]}],[{"start":{"row":197,"column":11},"end":{"row":197,"column":14},"action":"insert","lines":["e i"],"id":206,"ignore":true}],[{"start":{"row":197,"column":14},"end":{"row":197,"column":15},"action":"insert","lines":["f"],"id":207,"ignore":true}],[{"start":{"row":197,"column":15},"end":{"row":197,"column":42},"action":"insert","lines":["dic[\"brand_name\"] == 'NULL'"],"id":208,"ignore":true}],[{"start":{"row":197,"column":15},"end":{"row":197,"column":16},"action":"insert","lines":[" "],"id":209,"ignore":true}],[{"start":{"row":197,"column":43},"end":{"row":198,"column":12},"action":"insert","lines":[":","            "],"id":210,"ignore":true}],[{"start":{"row":196,"column":31},"end":{"row":196,"column":32},"action":"insert","lines":[" "],"id":211,"ignore":true}],[{"start":{"row":198,"column":12},"end":{"row":198,"column":33},"action":"insert","lines":["dic[\"product_name\"] ="],"id":212,"ignore":true}],[{"start":{"row":198,"column":33},"end":{"row":198,"column":34},"action":"insert","lines":[" "],"id":213,"ignore":true}],[{"start":{"row":198,"column":34},"end":{"row":198,"column":51},"action":"insert","lines":["dic[\"brand_name\"]"],"id":214,"ignore":true}],[{"start":{"row":199,"column":8},"end":{"row":200,"column":8},"action":"insert","lines":["","        "],"id":215,"ignore":true}],[{"start":{"row":195,"column":12},"end":{"row":195,"column":14},"action":"remove","lines":[" i"],"id":216,"ignore":true}],[{"start":{"row":195,"column":11},"end":{"row":195,"column":12},"action":"remove","lines":["e"],"id":217,"ignore":true}],[{"start":{"row":195,"column":10},"end":{"row":195,"column":11},"action":"remove","lines":["s"],"id":218,"ignore":true}],[{"start":{"row":195,"column":10},"end":{"row":195,"column":11},"action":"insert","lines":["i"],"id":219,"ignore":true}],[{"start":{"row":197,"column":12},"end":{"row":197,"column":14},"action":"remove","lines":[" i"],"id":220,"ignore":true}],[{"start":{"row":197,"column":10},"end":{"row":197,"column":12},"action":"remove","lines":["se"],"id":221,"ignore":true},{"start":{"row":197,"column":10},"end":{"row":197,"column":11},"action":"insert","lines":["i"]}],[{"start":{"row":193,"column":31},"end":{"row":193,"column":40},"action":"remove","lines":["== 'NULL'"],"id":222,"ignore":true},{"start":{"row":193,"column":31},"end":{"row":193,"column":32},"action":"insert","lines":["i"]}],[{"start":{"row":193,"column":32},"end":{"row":193,"column":35},"action":"insert","lines":["s n"],"id":223,"ignore":true}],[{"start":{"row":193,"column":34},"end":{"row":193,"column":35},"action":"remove","lines":["n"],"id":224,"ignore":true},{"start":{"row":193,"column":34},"end":{"row":193,"column":38},"action":"insert","lines":["None"]}],[{"start":{"row":193,"column":61},"end":{"row":193,"column":70},"action":"remove","lines":["== 'NULL'"],"id":225,"ignore":true},{"start":{"row":193,"column":61},"end":{"row":193,"column":62},"action":"insert","lines":["i"]}],[{"start":{"row":193,"column":62},"end":{"row":193,"column":68},"action":"insert","lines":["s None"],"id":226,"ignore":true}],[{"start":{"row":193,"column":69},"end":{"row":194,"column":13},"action":"insert","lines":["","            p"],"id":227,"ignore":true}],[{"start":{"row":194,"column":13},"end":{"row":194,"column":21},"action":"insert","lines":["rint 'N'"],"id":228,"ignore":true}],[{"start":{"row":194,"column":20},"end":{"row":194,"column":24},"action":"insert","lines":["ot a"],"id":229,"ignore":true}],[{"start":{"row":194,"column":24},"end":{"row":194,"column":32},"action":"insert","lines":["dding or"],"id":230,"ignore":true}],[{"start":{"row":194,"column":30},"end":{"row":194,"column":32},"action":"remove","lines":["or"],"id":231,"ignore":true},{"start":{"row":194,"column":30},"end":{"row":194,"column":37},"action":"insert","lines":["product"]}],[{"start":{"row":194,"column":34},"end":{"row":194,"column":37},"action":"remove","lines":["uct"],"id":232,"ignore":true}],[{"start":{"row":194,"column":34},"end":{"row":194,"column":35},"action":"insert","lines":["u"],"id":233,"ignore":true}],[{"start":{"row":194,"column":35},"end":{"row":194,"column":37},"action":"insert","lines":["ct"],"id":234,"ignore":true}],[{"start":{"row":193,"column":33},"end":{"row":193,"column":38},"action":"remove","lines":[" None"],"id":235,"ignore":true}],[{"start":{"row":193,"column":32},"end":{"row":193,"column":33},"action":"remove","lines":["s"],"id":236,"ignore":true}],[{"start":{"row":193,"column":31},"end":{"row":193,"column":32},"action":"remove","lines":["i"],"id":237,"ignore":true},{"start":{"row":193,"column":31},"end":{"row":193,"column":32},"action":"insert","lines":["="]}],[{"start":{"row":193,"column":32},"end":{"row":193,"column":33},"action":"insert","lines":["="],"id":238,"ignore":true}],[{"start":{"row":193,"column":33},"end":{"row":193,"column":36},"action":"insert","lines":[" ''"],"id":239,"ignore":true},{"start":{"row":193,"column":65},"end":{"row":193,"column":66},"action":"remove","lines":["e"]}],[{"start":{"row":193,"column":64},"end":{"row":193,"column":65},"action":"remove","lines":["n"],"id":240,"ignore":true}],[{"start":{"row":193,"column":59},"end":{"row":193,"column":64},"action":"remove","lines":["is No"],"id":241,"ignore":true},{"start":{"row":193,"column":59},"end":{"row":193,"column":60},"action":"insert","lines":["="]}],[{"start":{"row":193,"column":60},"end":{"row":193,"column":63},"action":"insert","lines":[" ''"],"id":242,"ignore":true}],[{"start":{"row":196,"column":37},"end":{"row":196,"column":41},"action":"remove","lines":["NULL"],"id":243,"ignore":true},{"start":{"row":198,"column":35},"end":{"row":198,"column":39},"action":"remove","lines":["NULL"]}],[{"start":{"row":193,"column":60},"end":{"row":193,"column":61},"action":"insert","lines":["="],"id":244,"ignore":true}],[{"start":{"row":188,"column":28},"end":{"row":191,"column":28},"action":"remove","lines":["","        # image = base64.b64decode(image)","        # with open('file.jpg', 'wb') as f:","        #     f.write(image)"],"id":245,"ignore":true}],[{"start":{"row":190,"column":31},"end":{"row":190,"column":33},"action":"remove","lines":["=="],"id":246,"ignore":true},{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"insert","lines":["o"]}],[{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"remove","lines":["o"],"id":247,"ignore":true},{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"insert","lines":["i"]}],[{"start":{"row":190,"column":32},"end":{"row":190,"column":33},"action":"insert","lines":["s"],"id":248,"ignore":true},{"start":{"row":190,"column":59},"end":{"row":190,"column":61},"action":"remove","lines":["=="]},{"start":{"row":190,"column":59},"end":{"row":190,"column":60},"action":"insert","lines":["i"]}],[{"start":{"row":190,"column":60},"end":{"row":190,"column":61},"action":"insert","lines":["s"],"id":249,"ignore":true}],[{"start":{"row":190,"column":31},"end":{"row":190,"column":33},"action":"remove","lines":["is"],"id":250,"ignore":true},{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"insert","lines":["o"]},{"start":{"row":190,"column":58},"end":{"row":190,"column":60},"action":"remove","lines":["is"]},{"start":{"row":190,"column":58},"end":{"row":190,"column":60},"action":"insert","lines":["=="]}],[{"start":{"row":190,"column":31},"end":{"row":190,"column":32},"action":"remove","lines":["o"],"id":251,"ignore":true},{"start":{"row":190,"column":31},"end":{"row":190,"column":33},"action":"insert","lines":["=="]}],[{"start":{"row":193,"column":39},"end":{"row":194,"column":13},"action":"insert","lines":["","            p"],"id":252,"ignore":true}],[{"start":{"row":194,"column":13},"end":{"row":194,"column":16},"action":"insert","lines":["rin"],"id":253,"ignore":true}],[{"start":{"row":194,"column":16},"end":{"row":194,"column":17},"action":"insert","lines":["t"],"id":254,"ignore":true}],[{"start":{"row":194,"column":17},"end":{"row":194,"column":19},"action":"insert","lines":[" t"],"id":255,"ignore":true}],[{"start":{"row":194,"column":18},"end":{"row":194,"column":19},"action":"remove","lines":["t"],"id":256,"ignore":true},{"start":{"row":194,"column":18},"end":{"row":194,"column":21},"action":"insert","lines":["'t'"]}],[{"start":{"row":194,"column":20},"end":{"row":194,"column":24},"action":"insert","lines":["est1"],"id":257,"ignore":true},{"start":{"row":196,"column":37},"end":{"row":197,"column":13},"action":"insert","lines":["","            p"]}],[{"start":{"row":197,"column":13},"end":{"row":197,"column":20},"action":"insert","lines":["rint ''"],"id":258,"ignore":true}],[{"start":{"row":197,"column":19},"end":{"row":197,"column":20},"action":"insert","lines":["t"],"id":259,"ignore":true}],[{"start":{"row":197,"column":20},"end":{"row":197,"column":24},"action":"insert","lines":["est2"],"id":260,"ignore":true},{"start":{"row":198,"column":51},"end":{"row":199,"column":9},"action":"insert","lines":["","        e"]}],[{"start":{"row":199,"column":9},"end":{"row":200,"column":13},"action":"insert","lines":["lse:","            p"],"id":261,"ignore":true}],[{"start":{"row":200,"column":13},"end":{"row":200,"column":21},"action":"insert","lines":["rint 'f'"],"id":262,"ignore":true}],[{"start":{"row":200,"column":20},"end":{"row":200,"column":25},"action":"insert","lines":["uck u"],"id":263,"ignore":true}],[{"start":{"row":195,"column":17},"end":{"row":195,"column":27},"action":"remove","lines":["brand_name"],"id":264,"ignore":true},{"start":{"row":195,"column":17},"end":{"row":195,"column":29},"action":"insert","lines":["product_name"]},{"start":{"row":195,"column":39},"end":{"row":195,"column":51},"action":"remove","lines":["product_name"]},{"start":{"row":195,"column":39},"end":{"row":195,"column":49},"action":"insert","lines":["brand_name"]}],[{"start":{"row":198,"column":17},"end":{"row":198,"column":29},"action":"remove","lines":["product_name"],"id":265,"ignore":true},{"start":{"row":198,"column":17},"end":{"row":198,"column":27},"action":"insert","lines":["brand_name"]},{"start":{"row":198,"column":37},"end":{"row":198,"column":47},"action":"remove","lines":["brand_name"]},{"start":{"row":198,"column":37},"end":{"row":198,"column":49},"action":"insert","lines":["product_name"]}],[{"start":{"row":190,"column":65},"end":{"row":191,"column":38},"action":"remove","lines":["","            print 'Not adding product'"],"id":266,"ignore":true}],[{"start":{"row":192,"column":39},"end":{"row":193,"column":25},"action":"remove","lines":["","            print 'test1'"],"id":267,"ignore":true}],[{"start":{"row":194,"column":37},"end":{"row":195,"column":25},"action":"remove","lines":["","            print 'test2'"],"id":268,"ignore":true}],[{"start":{"row":195,"column":51},"end":{"row":197,"column":26},"action":"remove","lines":["","        else:","            print 'fuck u'"],"id":269,"ignore":true}],[{"start":{"row":174,"column":22},"end":{"row":177,"column":22},"action":"insert","lines":["","    image = base64.b64decode(request.form['image'])","    with open('file.jpg', 'wb') as f:","        f.write(image)"],"id":270,"ignore":true}],[{"start":{"row":175,"column":43},"end":{"row":175,"column":48},"action":"remove","lines":["image"],"id":271,"ignore":true},{"start":{"row":175,"column":43},"end":{"row":175,"column":44},"action":"insert","lines":["e"]}],[{"start":{"row":175,"column":44},"end":{"row":175,"column":54},"action":"insert","lines":["xpiryImage"],"id":272,"ignore":true}],[{"start":{"row":175,"column":4},"end":{"row":175,"column":9},"action":"remove","lines":["image"],"id":273,"ignore":true},{"start":{"row":175,"column":4},"end":{"row":175,"column":15},"action":"insert","lines":["expiryImage"]}],[{"start":{"row":176,"column":15},"end":{"row":176,"column":19},"action":"remove","lines":["file"],"id":274,"ignore":true},{"start":{"row":176,"column":15},"end":{"row":176,"column":26},"action":"insert","lines":["expiryImage"]}],[{"start":{"row":177,"column":16},"end":{"row":177,"column":21},"action":"remove","lines":["image"],"id":275,"ignore":true},{"start":{"row":177,"column":16},"end":{"row":177,"column":27},"action":"insert","lines":["expiryImage"]}],[{"start":{"row":64,"column":0},"end":{"row":107,"column":0},"action":"remove","lines":["@app.route('/add', methods=['POST'])","@login_required","def new_task():","    name = request.form['name']","    date = request.form['due_date']","    priority = request.form['priority']","    if not name and not date and not priority:","        flash(\"You forgot the task name, date, and priority! Try again.\")","        return redirect(url_for('tasks'))","    elif not name and not date:","        flash(\"You forgot the task name and date! Try again.\")","        return redirect(url_for('tasks'))","    elif not date and not priority:","        flash(\"You forgot the task date and priority! Try again.\")","        return redirect(url_for('tasks'))","    elif not name and not priority:","        flash(\"You forgot the task name and priority! Try again.\")","        return redirect(url_for('tasks'))   ","    elif not name:","        flash(\"You forgot the task name! Try again.\")","        return redirect(url_for('tasks'))","    elif not date:","        flash(\"You forgot the task date! Try again.\")","        return redirect(url_for('tasks'))","    elif not priority:","        flash(\"You forgot the task priority! Try again.\")","        return redirect(url_for('tasks'))    ","    else:","        g.db.execute('insert into ftasks (name, due_date, priority, status) values (?, ?, ?, 1)',","             [request.form['name'], request.form['due_date'], request.form['priority']])                 ","        g.db.commit()","        flash('New entry was successfully posted')","        return redirect(url_for('tasks'))","","@app.route('/delete/<int:task_id>',)","@login_required","def delete_entry(task_id):","    g.db  = connect_db()","    cur = g.db.execute('delete from ftasks where task_id='+str(task_id))","    g.db.commit()","    g.db.close()","    flash('The task was deleted')","    return redirect(url_for('tasks'))",""],"id":292}],[{"start":{"row":94,"column":0},"end":{"row":103,"column":0},"action":"remove","lines":["@app.route('/complete/<int:task_id>',)","@login_required","def complete(task_id):","    g.db  = connect_db()","    cur = g.db.execute('update ftasks set status = 0 where task_id='+str(task_id))","    g.db.commit()","    g.db.close()","    flash('The task was marked as complete.')","    return redirect(url_for('tasks'))",""],"id":293}],[{"start":{"row":93,"column":0},"end":{"row":94,"column":0},"action":"remove","lines":["",""],"id":294}],[{"start":{"row":154,"column":0},"end":{"row":155,"column":0},"action":"remove","lines":["",""],"id":295}],[{"start":{"row":153,"column":4},"end":{"row":154,"column":0},"action":"remove","lines":["",""],"id":296}],[{"start":{"row":110,"column":124},"end":{"row":110,"column":137},"action":"remove","lines":[" #change this"],"id":297}],[{"start":{"row":51,"column":0},"end":{"row":56,"column":73},"action":"remove","lines":["    # cur = g.db.execute('select name, due_date, priority, task_id from ftasks where status=1')","    # open_tasks = [dict(name=row[0], due_date=row[1], priority=row[2], task_id=row[3]) for row in cur.fetchall()]","    # cur = g.db.execute('select name, due_date, priority, task_id from ftasks where status=0')","    # closed_tasks = [dict(name=row[0], due_date=row[1], priority=row[2], task_id=row[3]) for row in cur.fetchall()]","    # cur = g.db.execute('select name, type from user')","    # users = [dict(name=row[0], type=row[1],) for row in cur.fetchall()]"],"id":298}],[{"start":{"row":50,"column":24},"end":{"row":51,"column":0},"action":"remove","lines":["",""],"id":299}],[{"start":{"row":116,"column":4},"end":{"row":116,"column":6},"action":"insert","lines":["# "],"id":300,"ignore":true},{"start":{"row":117,"column":4},"end":{"row":117,"column":6},"action":"insert","lines":["# "]},{"start":{"row":118,"column":4},"end":{"row":118,"column":6},"action":"insert","lines":["# "]}]]},"ace":{"folds":[],"scrolltop":2229,"scrollleft":0,"selection":{"start":{"row":10,"column":0},"end":{"row":10,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":138,"state":"start","mode":"ace/mode/python"}},"timestamp":1466968316386,"hash":"d8c7f079d5e8b9805ff5e46f65236d57b58a4e17"}